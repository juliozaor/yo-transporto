(window.webpackJsonp=window.webpackJsonp||[]).push([[32],{"4F8O":function(o,t,e){"use strict";e.r(t),e.d(t,"VerOfertaConductorPasajeroPageModule",(function(){return y}));var a=e("ofXK"),i=e("3Pt+"),n=e("TEn/"),r=e("tyNb"),c=e("mrSG"),b=e("ZJfK"),s=e("fXoL"),l=e("IbGY"),f=e("H+l1");function d(o,t){1&o&&(s.Nb(0,"h4"),s.mc(1,"Ciudad"),s.Mb())}function u(o,t){1&o&&(s.Nb(0,"h4"),s.mc(1,"Interurbano"),s.Mb())}function h(o,t){1&o&&(s.Nb(0,"h4"),s.mc(1,"Domicilio"),s.Mb())}function M(o,t){1&o&&(s.Nb(0,"h4"),s.mc(1,"Mercancia"),s.Mb())}function N(o,t){if(1&o&&(s.Nb(0,"ion-row"),s.Nb(1,"ion-col",8),s.Nb(2,"ion-text",4),s.Nb(3,"h4"),s.mc(4,"Recoger en el horario: "),s.Mb(),s.Mb(),s.Mb(),s.Nb(5,"ion-col",8),s.Nb(6,"ion-text"),s.Nb(7,"h4"),s.mc(8),s.Mb(),s.Mb(),s.Mb(),s.Mb()),2&o){const o=s.Xb(2);s.Ab(8),s.pc("",o.oferta.oferta.horaInicial," - ",o.oferta.oferta.horaFinal,"")}}function p(o,t){if(1&o&&(s.Nb(0,"ion-row"),s.Nb(1,"ion-col",8),s.Nb(2,"ion-text",4),s.Nb(3,"h4"),s.mc(4,"Fecha: "),s.Mb(),s.Mb(),s.Mb(),s.Nb(5,"ion-col",8),s.Nb(6,"ion-text"),s.Nb(7,"h4"),s.mc(8),s.Mb(),s.Mb(),s.Mb(),s.Mb()),2&o){const o=s.Xb(2);s.Ab(8),s.nc(o.oferta.oferta.fecha)}}function m(o,t){1&o&&(s.Nb(0,"p"),s.mc(1,"Aire acondicionado"),s.Mb())}function g(o,t){1&o&&(s.Nb(0,"p"),s.mc(1,"Musica"),s.Mb())}function A(o,t){1&o&&(s.Nb(0,"p"),s.mc(1,"Asientos para Bebe"),s.Mb())}function v(o,t){if(1&o&&(s.Nb(0,"ion-row"),s.Nb(1,"ion-col",8),s.Nb(2,"ion-text",4),s.Nb(3,"h3"),s.mc(4,"Requiero: "),s.Mb(),s.Mb(),s.Mb(),s.Nb(5,"ion-col",8),s.Nb(6,"ion-text"),s.lc(7,m,2,0,"p",2),s.lc(8,g,2,0,"p",2),s.lc(9,A,2,0,"p",2),s.Mb(),s.Mb(),s.Mb()),2&o){const o=s.Xb(2);s.Ab(7),s.cc("ngIf",0!=o.oferta.oferta.aire),s.Ab(1),s.cc("ngIf",0!=o.oferta.oferta.musica),s.Ab(1),s.cc("ngIf",0!=o.oferta.oferta.sientos)}}function w(o,t){if(1&o&&(s.Nb(0,"ion-row"),s.Nb(1,"ion-col",8),s.Nb(2,"ion-text",4),s.Nb(3,"h3"),s.mc(4,"Comentarios: "),s.Mb(),s.Mb(),s.Mb(),s.Nb(5,"ion-col",8),s.Nb(6,"ion-text"),s.Nb(7,"p"),s.mc(8),s.Mb(),s.Mb(),s.Mb(),s.Mb()),2&o){const o=s.Xb(2);s.Ab(8),s.nc(o.oferta.oferta.comentarios)}}function C(o,t){1&o&&(s.Nb(0,"ion-col",7),s.Nb(1,"ion-text",17),s.Nb(2,"h4"),s.mc(3,"Debe esperar que el due\xf1o de la oferta acepte para que se habilite el chat"),s.Mb(),s.Mb(),s.Mb())}function I(o,t){if(1&o){const o=s.Ob();s.Nb(0,"ion-grid"),s.Nb(1,"ion-row"),s.Nb(2,"ion-col",3),s.Nb(3,"ion-text"),s.Nb(4,"h3"),s.Nb(5,"ion-label",4),s.mc(6,"Usuario:"),s.Mb(),s.mc(7),s.Mb(),s.Mb(),s.Mb(),s.Mb(),s.Nb(8,"ion-row"),s.Nb(9,"ion-col",5),s.Nb(10,"ion-avatar"),s.Lb(11,"img",6),s.Mb(),s.Mb(),s.Nb(12,"ion-col",7),s.Nb(13,"ion-text"),s.Nb(14,"h3"),s.Nb(15,"ion-label",4),s.mc(16,"Origen:"),s.Mb(),s.mc(17),s.Mb(),s.Nb(18,"h3"),s.Nb(19,"ion-label",4),s.mc(20,"Destino:"),s.Mb(),s.mc(21),s.Mb(),s.Mb(),s.Mb(),s.Mb(),s.Nb(22,"ion-row"),s.Nb(23,"ion-col",8),s.Nb(24,"ion-text",4),s.Nb(25,"h3"),s.mc(26,"Tipo de servicio: "),s.Mb(),s.Mb(),s.Mb(),s.Nb(27,"ion-col",8),s.Nb(28,"ion-text"),s.lc(29,d,2,0,"h4",2),s.lc(30,u,2,0,"h4",2),s.lc(31,h,2,0,"h4",2),s.lc(32,M,2,0,"h4",2),s.Mb(),s.Mb(),s.Mb(),s.lc(33,N,9,2,"ion-row",2),s.lc(34,p,9,1,"ion-row",2),s.lc(35,v,10,3,"ion-row",2),s.lc(36,w,9,1,"ion-row",2),s.Nb(37,"ion-row"),s.Nb(38,"ion-col",5),s.Nb(39,"ion-button",9),s.Vb("click",(function(){return s.ic(o),s.Xb().chat()})),s.mc(40," chat "),s.Mb(),s.Mb(),s.lc(41,C,4,0,"ion-col",10),s.Mb(),s.Nb(42,"ion-row"),s.Nb(43,"ion-col",3),s.Nb(44,"ion-list"),s.Nb(45,"ion-radio-group",11),s.Vb("ngModelChange",(function(t){return s.ic(o),s.Xb().valor=t})),s.Nb(46,"ion-item"),s.Nb(47,"ion-label"),s.mc(48),s.Mb(),s.Lb(49,"ion-radio",12),s.Mb(),s.Nb(50,"ion-item"),s.Nb(51,"ion-label"),s.mc(52,"contraoferta: $ "),s.Mb(),s.Nb(53,"ion-radio",13),s.Vb("ngModelChange",(function(t){return s.ic(o),s.Xb().contraoferta=t})),s.Mb(),s.Nb(54,"ion-input",14),s.Vb("ngModelChange",(function(t){return s.ic(o),s.Xb().contraoferta=t})),s.Mb(),s.Mb(),s.Mb(),s.Mb(),s.Mb(),s.Mb(),s.Nb(55,"ion-row"),s.Nb(56,"ion-col",15),s.Nb(57,"ion-button",16),s.Vb("click",(function(){return s.ic(o),s.Xb().aceptar()})),s.mc(58," Aceptar "),s.Mb(),s.Mb(),s.Mb(),s.Mb()}if(2&o){const o=s.Xb();s.Ab(7),s.oc(" ",o.oferta.usuario.nombre," "),s.Ab(4),s.ec("src","../assets/avatars/",o.oferta.usuario.foto,"",s.jc),s.Ab(6),s.oc(" ",o.oferta.oferta.origen,""),s.Ab(4),s.oc(" ",o.oferta.oferta.destino,""),s.Ab(8),s.cc("ngIf",1==o.oferta.oferta.codTipoServicio),s.Ab(1),s.cc("ngIf",2==o.oferta.oferta.codTipoServicio),s.Ab(1),s.cc("ngIf",3==o.oferta.oferta.codTipoServicio),s.Ab(1),s.cc("ngIf",4==o.oferta.oferta.codTipoServicio),s.Ab(1),s.cc("ngIf",null!=o.oferta.oferta.horaInicial||null!=o.oferta.oferta.horaFinal),s.Ab(1),s.cc("ngIf",null!=o.oferta.oferta.fecha),s.Ab(1),s.cc("ngIf",0!=o.oferta.oferta.aire||0!=o.oferta.oferta.musica||0!=o.oferta.oferta.sientos),s.Ab(1),s.cc("ngIf",null!=o.oferta.oferta.comentarios),s.Ab(3),s.cc("disabled",o.habilitarChat),s.Ab(2),s.cc("ngIf",0==o.aceptada),s.Ab(4),s.cc("ngModel",o.valor),s.Ab(3),s.oc("Tarifa de la oferta: $ ",o.oferta.oferta.tarifa,""),s.Ab(1),s.dc("value",o.oferta.oferta.tarifa),s.Ab(4),s.cc("ngModel",o.contraoferta),s.Ab(1),s.cc("ngModel",o.contraoferta),s.Ab(3),s.cc("disabled",o.habilitarBoton)}}const x=[{path:"",component:(()=>{class o{constructor(o,t,e,a,i){this.activatedRoute=o,this.conductorService=t,this.alertController=e,this.modalCtrl=a,this.push=i,this.habilitarBoton=!1,this.habilitarChat=!0,this.aceptada=!1}ngOnInit(){this.desde=this.activatedRoute.snapshot.paramMap.get("from"),this.oferta=this.conductorService.ofertaPasajero,this.valor=this.oferta.oferta.tarifa,"2"===this.desde&&(this.habilitarBoton=!0,this.oferta.completa.aceptada&&(this.habilitarChat=!1,this.aceptada=!0)),console.log(this.oferta)}aceptar(){return Object(c.__awaiter)(this,void 0,void 0,(function*(){const o=yield this.alertController.create({message:"Esta seguro de aceptar esta oferta",buttons:[{text:"Cancelar",role:"cancel"},{text:"Aceptar",handler:()=>{const o={codOfertaPasajero:this.oferta.oferta.idOfertaPasajero,valor:String(this.valor)};console.log(this.valor),this.conductorService.aceptarOferta(o).subscribe(o=>{this.habilitarBoton=!0});const t={oferta:this.oferta.oferta,lugar:"aceptar oferta de pasajero"},e=JSON.stringify({mensaje:"Un conductor a aceptado su oferta y esta a la espera de su confirmaci\xf3n",titulo:"Oferta Aceptada",idSignal:this.oferta.usuario.idSignal}),a=JSON.stringify(t);this.push.enviarNotificacion(e,a).subscribe(o=>{console.log(o)})}}]});yield o.present()}))}chat(){return Object(c.__awaiter)(this,void 0,void 0,(function*(){"2"===this.desde&&(this.idConductorOfertaPasajero=this.oferta.completa.idConductorOfertaPasajero);const o=yield this.modalCtrl.create({component:b.a,componentProps:{idOferta:this.idConductorOfertaPasajero,nombre:this.oferta.usuario.nombre}});yield o.present()}))}}return o.\u0275fac=function(t){return new(t||o)(s.Kb(r.a),s.Kb(l.a),s.Kb(n.b),s.Kb(n.bb),s.Kb(f.a))},o.\u0275cmp=s.Eb({type:o,selectors:[["app-ver-oferta-conductor-pasajero"]],decls:8,vars:1,consts:[["slot","start"],["defaultHref","/conductor"],[4,"ngIf"],["size","12",1,"aling-center"],["color","primary"],["size","4"],[3,"src"],["size","8"],["size","6"],["expand","block","shape","round",3,"disabled","click"],["size","8",4,"ngIf"],["name","auto",3,"ngModel","ngModelChange"],["slot","start",3,"value"],["slot","start",3,"ngModel","ngModelChange"],["type","text","placeholder","Digite su contraoferta",3,"ngModel","ngModelChange"],["size","12"],["expand","full","shape","round",3,"disabled","click"],[1,"color-text"]],template:function(o,t){1&o&&(s.Nb(0,"ion-header"),s.Nb(1,"ion-toolbar"),s.Nb(2,"ion-buttons",0),s.Lb(3,"ion-back-button",1),s.Mb(),s.Nb(4,"ion-title"),s.mc(5,"Oferta Pasajero"),s.Mb(),s.Mb(),s.Mb(),s.Nb(6,"ion-content"),s.lc(7,I,59,20,"ion-grid",2),s.Mb()),2&o&&(s.Ab(7),s.cc("ngIf",t.oferta))},directives:[n.q,n.X,n.i,n.f,n.g,n.W,n.n,a.l,n.p,n.L,n.m,n.V,n.A,n.e,n.h,n.B,n.H,n.hb,i.c,i.f,n.w,n.G,n.fb,n.v,n.ib],styles:[".color-text[_ngcontent-%COMP%]{color:red;font-style:italic}"]}),o})()}];let O=(()=>{class o{}return o.\u0275mod=s.Ib({type:o}),o.\u0275inj=s.Hb({factory:function(t){return new(t||o)},imports:[[r.i.forChild(x)],r.i]}),o})(),y=(()=>{class o{}return o.\u0275mod=s.Ib({type:o}),o.\u0275inj=s.Hb({factory:function(t){return new(t||o)},imports:[[a.c,i.a,n.Y,O]]}),o})()}}]);