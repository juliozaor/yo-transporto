(window.webpackJsonp=window.webpackJsonp||[]).push([[34],{"4F8O":function(o,t,e){"use strict";e.r(t),e.d(t,"VerOfertaConductorPasajeroPageModule",(function(){return K}));var a=e("ofXK"),n=e("3Pt+"),i=e("TEn/"),c=e("tyNb"),r=e("mrSG"),b=e("ZJfK"),f=e("6gyQ"),s=e("fXoL"),l=e("IbGY"),d=e("H+l1");function u(o,t){1&o&&(s.Nb(0,"h4"),s.mc(1,"Ciudad"),s.Mb())}function M(o,t){1&o&&(s.Nb(0,"h4"),s.mc(1,"Interurbano"),s.Mb())}function h(o,t){1&o&&(s.Nb(0,"h4"),s.mc(1,"Domicilio"),s.Mb())}function N(o,t){1&o&&(s.Nb(0,"h4"),s.mc(1,"Mercancia"),s.Mb())}function p(o,t){if(1&o&&(s.Nb(0,"ion-row"),s.Nb(1,"ion-col",11),s.Nb(2,"ion-text",7),s.Nb(3,"h4"),s.mc(4,"Recoger en el horario: "),s.Mb(),s.Mb(),s.Mb(),s.Nb(5,"ion-col",11),s.Nb(6,"ion-text"),s.Nb(7,"h4"),s.mc(8),s.Mb(),s.Mb(),s.Mb(),s.Mb()),2&o){const o=s.Xb(2);s.Ab(8),s.pc("",o.oferta.oferta.horaInicial," - ",o.oferta.oferta.horaFinal,"")}}function m(o,t){if(1&o&&(s.Nb(0,"ion-row"),s.Nb(1,"ion-col",11),s.Nb(2,"ion-text",7),s.Nb(3,"h4"),s.mc(4,"Fecha: "),s.Mb(),s.Mb(),s.Mb(),s.Nb(5,"ion-col",11),s.Nb(6,"ion-text"),s.Nb(7,"h4"),s.mc(8),s.Mb(),s.Mb(),s.Mb(),s.Mb()),2&o){const o=s.Xb(2);s.Ab(8),s.nc(o.oferta.oferta.fecha)}}function g(o,t){1&o&&(s.Nb(0,"p"),s.Lb(1,"ion-icon",14),s.mc(2,"Aire acondicionado"),s.Mb())}function A(o,t){1&o&&(s.Nb(0,"p"),s.Lb(1,"ion-icon",14),s.mc(2,"Musica"),s.Mb())}function v(o,t){1&o&&(s.Nb(0,"p"),s.Lb(1,"ion-icon",14),s.mc(2,"Asientos para Bebe"),s.Mb())}function w(o,t){1&o&&(s.Nb(0,"p"),s.Lb(1,"ion-icon",14),s.mc(2,"Maletero"),s.Mb())}function I(o,t){if(1&o&&(s.Nb(0,"ion-row"),s.Nb(1,"ion-col",11),s.Nb(2,"ion-text",7),s.Nb(3,"h3"),s.mc(4,"Requiero: "),s.Mb(),s.Mb(),s.Mb(),s.Nb(5,"ion-col",11),s.Nb(6,"ion-text"),s.lc(7,g,3,0,"p",5),s.lc(8,A,3,0,"p",5),s.lc(9,v,3,0,"p",5),s.lc(10,w,3,0,"p",5),s.Mb(),s.Mb(),s.Mb()),2&o){const o=s.Xb(2);s.Ab(7),s.cc("ngIf",0!=o.oferta.oferta.aire),s.Ab(1),s.cc("ngIf",0!=o.oferta.oferta.musica),s.Ab(1),s.cc("ngIf",0!=o.oferta.oferta.asientos),s.Ab(1),s.cc("ngIf",0!=o.oferta.oferta.maleta)}}function C(o,t){if(1&o&&(s.Nb(0,"ion-row"),s.Nb(1,"ion-col",11),s.Nb(2,"ion-text",7),s.Nb(3,"h3"),s.mc(4,"Comentarios: "),s.Mb(),s.Mb(),s.Mb(),s.Nb(5,"ion-col",11),s.Nb(6,"ion-text"),s.Nb(7,"p"),s.mc(8),s.Mb(),s.Mb(),s.Mb(),s.Mb()),2&o){const o=s.Xb(2);s.Ab(8),s.nc(o.oferta.oferta.comentarios)}}function O(o,t){1&o&&(s.Nb(0,"ion-col",10),s.Nb(1,"ion-text",15),s.Nb(2,"h4"),s.mc(3,"Debe esperar que el due\xf1o de la oferta acepte para que se habilite el chat"),s.Mb(),s.Mb(),s.Mb())}function x(o,t){if(1&o){const o=s.Ob();s.Nb(0,"ion-row"),s.Nb(1,"ion-col",6),s.Nb(2,"ion-list"),s.Nb(3,"ion-radio-group",16),s.Vb("ngModelChange",(function(t){return s.ic(o),s.Xb(2).valor=t})),s.Nb(4,"ion-item"),s.Nb(5,"ion-label"),s.mc(6),s.Mb(),s.Lb(7,"ion-radio",17),s.Mb(),s.Nb(8,"ion-item"),s.Nb(9,"ion-label"),s.mc(10,"contraoferta: $ "),s.Mb(),s.Nb(11,"ion-radio",18),s.Vb("ngModelChange",(function(t){return s.ic(o),s.Xb(2).contraoferta=t})),s.Mb(),s.Nb(12,"ion-input",19),s.Vb("ngModelChange",(function(t){return s.ic(o),s.Xb(2).contraoferta=t})),s.Mb(),s.Mb(),s.Mb(),s.Mb(),s.Mb(),s.Mb()}if(2&o){const o=s.Xb(2);s.Ab(3),s.cc("ngModel",o.valor),s.Ab(3),s.oc("Tarifa de la oferta: $ ",o.oferta.oferta.tarifa,""),s.Ab(1),s.dc("value",o.oferta.oferta.tarifa),s.Ab(4),s.cc("ngModel",o.contraoferta),s.Ab(1),s.cc("ngModel",o.contraoferta)}}function y(o,t){if(1&o&&(s.Nb(0,"ion-row"),s.Nb(1,"ion-col",6),s.Nb(2,"ion-item"),s.Nb(3,"ion-text",7),s.Nb(4,"h3"),s.mc(5),s.Mb(),s.Mb(),s.Mb(),s.Mb(),s.Mb()),2&o){const o=s.Xb(2);s.Ab(5),s.oc("Tarifa de la oferta: $ ",o.oferta.oferta.tarifa,"")}}function j(o,t){if(1&o){const o=s.Ob();s.Nb(0,"ion-row"),s.Nb(1,"ion-col",20),s.Nb(2,"ion-button",21),s.Vb("click",(function(){return s.ic(o),s.Xb(2).aceptar()})),s.mc(3," Aceptar "),s.Mb(),s.Mb(),s.Mb()}if(2&o){const o=s.Xb(2);s.Ab(2),s.cc("disabled",o.habilitarBoton)}}function X(o,t){if(1&o){const o=s.Ob();s.Nb(0,"ion-row"),s.Nb(1,"ion-col",20),s.Nb(2,"ion-button",22),s.Vb("click",(function(){return s.ic(o),s.Xb(2).calificar()})),s.mc(3," Finalizar oferta "),s.Mb(),s.Mb(),s.Mb()}}function k(o,t){if(1&o){const o=s.Ob();s.Nb(0,"ion-grid"),s.Nb(1,"ion-row"),s.Nb(2,"ion-col",6),s.Nb(3,"ion-text"),s.Nb(4,"h3"),s.Nb(5,"ion-label",7),s.mc(6,"Usuario:"),s.Mb(),s.mc(7),s.Mb(),s.Mb(),s.Mb(),s.Mb(),s.Nb(8,"ion-row"),s.Nb(9,"ion-col",8),s.Nb(10,"ion-avatar"),s.Lb(11,"img",9),s.Mb(),s.Mb(),s.Nb(12,"ion-col",10),s.Nb(13,"ion-text"),s.Nb(14,"h3"),s.Nb(15,"ion-label",7),s.mc(16,"Origen:"),s.Mb(),s.mc(17),s.Mb(),s.Nb(18,"h3"),s.Nb(19,"ion-label",7),s.mc(20,"Destino:"),s.Mb(),s.mc(21),s.Mb(),s.Mb(),s.Mb(),s.Mb(),s.Nb(22,"ion-row"),s.Nb(23,"ion-col",11),s.Nb(24,"ion-text",7),s.Nb(25,"h3"),s.mc(26,"Tipo de servicio: "),s.Mb(),s.Mb(),s.Mb(),s.Nb(27,"ion-col",11),s.Nb(28,"ion-text"),s.lc(29,u,2,0,"h4",5),s.lc(30,M,2,0,"h4",5),s.lc(31,h,2,0,"h4",5),s.lc(32,N,2,0,"h4",5),s.Mb(),s.Mb(),s.Mb(),s.lc(33,p,9,2,"ion-row",5),s.lc(34,m,9,1,"ion-row",5),s.lc(35,I,11,4,"ion-row",5),s.lc(36,C,9,1,"ion-row",5),s.Nb(37,"ion-row"),s.Nb(38,"ion-col",8),s.Nb(39,"ion-button",12),s.Vb("click",(function(){return s.ic(o),s.Xb().chat()})),s.mc(40," chat "),s.Mb(),s.Mb(),s.lc(41,O,4,0,"ion-col",13),s.Mb(),s.lc(42,x,13,5,"ion-row",5),s.lc(43,y,6,1,"ion-row",5),s.lc(44,j,4,1,"ion-row",5),s.lc(45,X,4,0,"ion-row",5),s.Mb()}if(2&o){const o=s.Xb();s.Ab(7),s.oc(" ",o.oferta.usuario.nombre," "),s.Ab(4),s.ec("src","../../../assets/avatars/",o.oferta.usuario.foto,"",s.jc),s.Ab(6),s.oc(" ",o.oferta.oferta.origen,""),s.Ab(4),s.oc(" ",o.oferta.oferta.destino,""),s.Ab(8),s.cc("ngIf",1==o.oferta.oferta.codTipoServicio),s.Ab(1),s.cc("ngIf",2==o.oferta.oferta.codTipoServicio),s.Ab(1),s.cc("ngIf",3==o.oferta.oferta.codTipoServicio),s.Ab(1),s.cc("ngIf",4==o.oferta.oferta.codTipoServicio),s.Ab(1),s.cc("ngIf",null!=o.oferta.oferta.horaInicial||null!=o.oferta.oferta.horaFinal),s.Ab(1),s.cc("ngIf",null!=o.oferta.oferta.fecha),s.Ab(1),s.cc("ngIf",0!=o.oferta.oferta.aire||0!=o.oferta.oferta.musica||0!=o.oferta.oferta.sientos||0!=o.oferta.oferta.maleta),s.Ab(1),s.cc("ngIf",null!=o.oferta.oferta.comentarios),s.Ab(3),s.cc("disabled",o.habilitarChat),s.Ab(2),s.cc("ngIf",0==o.aceptada),s.Ab(1),s.cc("ngIf","1"==o.desde),s.Ab(1),s.cc("ngIf","2"==o.desde),s.Ab(1),s.cc("ngIf","1"==o.desde),s.Ab(1),s.cc("ngIf","2"==o.desde)}}const P=[{path:"",component:(()=>{class o{constructor(o,t,e,a,n,i){this.activatedRoute=o,this.conductorService=t,this.alertController=e,this.modalCtrl=a,this.navCtrl=n,this.push=i,this.habilitarBoton=!1,this.habilitarChat=!0,this.aceptada=!1}ngOnInit(){this.desde=this.activatedRoute.snapshot.paramMap.get("from"),this.oferta=this.conductorService.ofertaPasajero,this.valor=this.oferta.oferta.tarifa,"2"===this.desde&&(this.habilitarBoton=!0,this.oferta.completa.aceptada&&(this.habilitarChat=!1,this.aceptada=!0)),console.log(this.oferta)}aceptar(){return Object(r.__awaiter)(this,void 0,void 0,(function*(){const o=yield this.alertController.create({message:"Esta seguro de aceptar esta oferta",buttons:[{text:"Cancelar",role:"cancel"},{text:"Aceptar",handler:()=>{const o={codOfertaPasajero:this.oferta.oferta.idOfertaPasajero,valor:String(this.valor)};this.conductorService.aceptarOferta(o).subscribe(o=>{this.habilitarBoton=!0,this.navCtrl.navigateRoot("/conductor",{animated:!0})});const t={oferta:this.oferta.oferta,lugar:"aceptar oferta de pasajero"};JSON.stringify({mensaje:"Un conductor a aceptado su oferta y esta a la espera de su confirmaci\xf3n",titulo:"Oferta Aceptada",idSignal:this.oferta.usuario.idSignal}),JSON.stringify(t)}}]});yield o.present()}))}chat(){return Object(r.__awaiter)(this,void 0,void 0,(function*(){"2"===this.desde&&(this.idConductorOfertaPasajero=this.oferta.completa.idConductorOfertaPasajero);const o=yield this.modalCtrl.create({component:b.a,componentProps:{idOferta:this.idConductorOfertaPasajero,nombre:this.oferta.usuario.nombre}});yield o.present()}))}calificar(){return Object(r.__awaiter)(this,void 0,void 0,(function*(){const o=yield this.modalCtrl.create({component:f.a,componentProps:{conductor:!1,cod:this.oferta.usuario.idUsuario}});yield o.present(),yield o.onDidDismiss()}))}}return o.\u0275fac=function(t){return new(t||o)(s.Kb(c.a),s.Kb(l.a),s.Kb(i.b),s.Kb(i.ab),s.Kb(i.bb),s.Kb(d.a))},o.\u0275cmp=s.Eb({type:o,selectors:[["app-ver-oferta-conductor-pasajero"]],decls:10,vars:1,consts:[["color","#f77708"],["slot","start"],["defaultHref","/conductor"],["slot","end",1,"imagenIco"],["src","./assets/imagenes/logo1.png"],[4,"ngIf"],["size","12",1,"aling-center"],["color","primary"],["size","4"],[3,"src"],["size","8"],["size","6"],["expand","block","shape","round",3,"disabled","click"],["size","8",4,"ngIf"],["name","checkmark-outline"],[1,"color-text"],["name","auto",3,"ngModel","ngModelChange"],["slot","start",3,"value"],["slot","start",3,"ngModel","ngModelChange"],["type","number","placeholder","Digite su contraoferta",3,"ngModel","ngModelChange"],["size","12"],["expand","full","shape","round",3,"disabled","click"],["expand","full","shape","round",3,"click"]],template:function(o,t){1&o&&(s.Nb(0,"ion-header"),s.Nb(1,"ion-toolbar",0),s.Nb(2,"ion-buttons",1),s.Lb(3,"ion-back-button",2),s.Mb(),s.Nb(4,"ion-title"),s.mc(5,"Oferta Pasajero"),s.Mb(),s.Nb(6,"ion-buttons",3),s.Lb(7,"img",4),s.Mb(),s.Mb(),s.Mb(),s.Nb(8,"ion-content"),s.lc(9,k,46,18,"ion-grid",5),s.Mb()),2&o&&(s.Ab(9),s.cc("ngIf",t.oferta))},directives:[i.q,i.W,i.i,i.f,i.g,i.V,i.n,a.k,i.p,i.K,i.m,i.U,i.A,i.e,i.h,i.r,i.B,i.G,i.gb,n.c,n.f,i.w,i.F,i.eb,i.v,i.cb],styles:[".color-text[_ngcontent-%COMP%]{color:red;font-style:italic}"]}),o})()}];let S=(()=>{class o{}return o.\u0275mod=s.Ib({type:o}),o.\u0275inj=s.Hb({factory:function(t){return new(t||o)},imports:[[c.i.forChild(P)],c.i]}),o})(),K=(()=>{class o{}return o.\u0275mod=s.Ib({type:o}),o.\u0275inj=s.Hb({factory:function(t){return new(t||o)},imports:[[a.c,n.a,i.X,S]]}),o})()}}]);