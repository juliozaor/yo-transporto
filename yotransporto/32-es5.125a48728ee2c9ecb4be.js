function _classCallCheck(o,e){if(!(o instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(o,e){for(var t=0;t<e.length;t++){var a=e[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(o,a.key,a)}}function _createClass(o,e,t){return e&&_defineProperties(o.prototype,e),t&&_defineProperties(o,t),o}(window.webpackJsonp=window.webpackJsonp||[]).push([[32],{"4F8O":function(o,e,t){"use strict";t.r(e),t.d(e,"VerOfertaConductorPasajeroPageModule",(function(){return P}));var a=t("ofXK"),r=t("3Pt+"),n=t("TEn/"),i=t("tyNb"),c=t("mrSG"),b=t("ZJfK"),f=t("fXoL"),l=t("IbGY"),s=t("H+l1");function u(o,e){1&o&&(f.Nb(0,"h4"),f.mc(1,"Ciudad"),f.Mb())}function d(o,e){1&o&&(f.Nb(0,"h4"),f.mc(1,"Interurbano"),f.Mb())}function h(o,e){1&o&&(f.Nb(0,"h4"),f.mc(1,"Domicilio"),f.Mb())}function M(o,e){1&o&&(f.Nb(0,"h4"),f.mc(1,"Mercancia"),f.Mb())}function p(o,e){if(1&o&&(f.Nb(0,"ion-row"),f.Nb(1,"ion-col",8),f.Nb(2,"ion-text",4),f.Nb(3,"h4"),f.mc(4,"Recoger en el horario: "),f.Mb(),f.Mb(),f.Mb(),f.Nb(5,"ion-col",8),f.Nb(6,"ion-text"),f.Nb(7,"h4"),f.mc(8),f.Mb(),f.Mb(),f.Mb(),f.Mb()),2&o){var t=f.Xb(2);f.Ab(8),f.pc("",t.oferta.oferta.horaInicial," - ",t.oferta.oferta.horaFinal,"")}}function N(o,e){if(1&o&&(f.Nb(0,"ion-row"),f.Nb(1,"ion-col",8),f.Nb(2,"ion-text",4),f.Nb(3,"h4"),f.mc(4,"Fecha: "),f.Mb(),f.Mb(),f.Mb(),f.Nb(5,"ion-col",8),f.Nb(6,"ion-text"),f.Nb(7,"h4"),f.mc(8),f.Mb(),f.Mb(),f.Mb(),f.Mb()),2&o){var t=f.Xb(2);f.Ab(8),f.nc(t.oferta.oferta.fecha)}}function m(o,e){1&o&&(f.Nb(0,"p"),f.mc(1,"Aire acondicionado"),f.Mb())}function g(o,e){1&o&&(f.Nb(0,"p"),f.mc(1,"Musica"),f.Mb())}function v(o,e){1&o&&(f.Nb(0,"p"),f.mc(1,"Asientos para Bebe"),f.Mb())}function w(o,e){if(1&o&&(f.Nb(0,"ion-row"),f.Nb(1,"ion-col",8),f.Nb(2,"ion-text",4),f.Nb(3,"h3"),f.mc(4,"Requiero: "),f.Mb(),f.Mb(),f.Mb(),f.Nb(5,"ion-col",8),f.Nb(6,"ion-text"),f.lc(7,m,2,0,"p",2),f.lc(8,g,2,0,"p",2),f.lc(9,v,2,0,"p",2),f.Mb(),f.Mb(),f.Mb()),2&o){var t=f.Xb(2);f.Ab(7),f.cc("ngIf",0!=t.oferta.oferta.aire),f.Ab(1),f.cc("ngIf",0!=t.oferta.oferta.musica),f.Ab(1),f.cc("ngIf",0!=t.oferta.oferta.sientos)}}function A(o,e){if(1&o&&(f.Nb(0,"ion-row"),f.Nb(1,"ion-col",8),f.Nb(2,"ion-text",4),f.Nb(3,"h3"),f.mc(4,"Comentarios: "),f.Mb(),f.Mb(),f.Mb(),f.Nb(5,"ion-col",8),f.Nb(6,"ion-text"),f.Nb(7,"p"),f.mc(8),f.Mb(),f.Mb(),f.Mb(),f.Mb()),2&o){var t=f.Xb(2);f.Ab(8),f.nc(t.oferta.oferta.comentarios)}}function C(o,e){1&o&&(f.Nb(0,"ion-col",7),f.Nb(1,"ion-text",17),f.Nb(2,"h4"),f.mc(3,"Debe esperar que el due\xf1o de la oferta acepte para que se habilite el chat"),f.Mb(),f.Mb(),f.Mb())}function x(o,e){if(1&o){var t=f.Ob();f.Nb(0,"ion-grid"),f.Nb(1,"ion-row"),f.Nb(2,"ion-col",3),f.Nb(3,"ion-text"),f.Nb(4,"h3"),f.Nb(5,"ion-label",4),f.mc(6,"Usuario:"),f.Mb(),f.mc(7),f.Mb(),f.Mb(),f.Mb(),f.Mb(),f.Nb(8,"ion-row"),f.Nb(9,"ion-col",5),f.Nb(10,"ion-avatar"),f.Lb(11,"img",6),f.Mb(),f.Mb(),f.Nb(12,"ion-col",7),f.Nb(13,"ion-text"),f.Nb(14,"h3"),f.Nb(15,"ion-label",4),f.mc(16,"Origen:"),f.Mb(),f.mc(17),f.Mb(),f.Nb(18,"h3"),f.Nb(19,"ion-label",4),f.mc(20,"Destino:"),f.Mb(),f.mc(21),f.Mb(),f.Mb(),f.Mb(),f.Mb(),f.Nb(22,"ion-row"),f.Nb(23,"ion-col",8),f.Nb(24,"ion-text",4),f.Nb(25,"h3"),f.mc(26,"Tipo de servicio: "),f.Mb(),f.Mb(),f.Mb(),f.Nb(27,"ion-col",8),f.Nb(28,"ion-text"),f.lc(29,u,2,0,"h4",2),f.lc(30,d,2,0,"h4",2),f.lc(31,h,2,0,"h4",2),f.lc(32,M,2,0,"h4",2),f.Mb(),f.Mb(),f.Mb(),f.lc(33,p,9,2,"ion-row",2),f.lc(34,N,9,1,"ion-row",2),f.lc(35,w,10,3,"ion-row",2),f.lc(36,A,9,1,"ion-row",2),f.Nb(37,"ion-row"),f.Nb(38,"ion-col",5),f.Nb(39,"ion-button",9),f.Vb("click",(function(){return f.ic(t),f.Xb().chat()})),f.mc(40," chat "),f.Mb(),f.Mb(),f.lc(41,C,4,0,"ion-col",10),f.Mb(),f.Nb(42,"ion-row"),f.Nb(43,"ion-col",3),f.Nb(44,"ion-list"),f.Nb(45,"ion-radio-group",11),f.Vb("ngModelChange",(function(o){return f.ic(t),f.Xb().valor=o})),f.Nb(46,"ion-item"),f.Nb(47,"ion-label"),f.mc(48),f.Mb(),f.Lb(49,"ion-radio",12),f.Mb(),f.Nb(50,"ion-item"),f.Nb(51,"ion-label"),f.mc(52,"contraoferta: $ "),f.Mb(),f.Nb(53,"ion-radio",13),f.Vb("ngModelChange",(function(o){return f.ic(t),f.Xb().contraoferta=o})),f.Mb(),f.Nb(54,"ion-input",14),f.Vb("ngModelChange",(function(o){return f.ic(t),f.Xb().contraoferta=o})),f.Mb(),f.Mb(),f.Mb(),f.Mb(),f.Mb(),f.Mb(),f.Nb(55,"ion-row"),f.Nb(56,"ion-col",15),f.Nb(57,"ion-button",16),f.Vb("click",(function(){return f.ic(t),f.Xb().aceptar()})),f.mc(58," Aceptar "),f.Mb(),f.Mb(),f.Mb(),f.Mb()}if(2&o){var a=f.Xb();f.Ab(7),f.oc(" ",a.oferta.usuario.nombre," "),f.Ab(4),f.ec("src","../assets/avatars/",a.oferta.usuario.foto,"",f.jc),f.Ab(6),f.oc(" ",a.oferta.oferta.origen,""),f.Ab(4),f.oc(" ",a.oferta.oferta.destino,""),f.Ab(8),f.cc("ngIf",1==a.oferta.oferta.codTipoServicio),f.Ab(1),f.cc("ngIf",2==a.oferta.oferta.codTipoServicio),f.Ab(1),f.cc("ngIf",3==a.oferta.oferta.codTipoServicio),f.Ab(1),f.cc("ngIf",4==a.oferta.oferta.codTipoServicio),f.Ab(1),f.cc("ngIf",null!=a.oferta.oferta.horaInicial||null!=a.oferta.oferta.horaFinal),f.Ab(1),f.cc("ngIf",null!=a.oferta.oferta.fecha),f.Ab(1),f.cc("ngIf",0!=a.oferta.oferta.aire||0!=a.oferta.oferta.musica||0!=a.oferta.oferta.sientos),f.Ab(1),f.cc("ngIf",null!=a.oferta.oferta.comentarios),f.Ab(3),f.cc("disabled",a.habilitarChat),f.Ab(2),f.cc("ngIf",0==a.aceptada),f.Ab(4),f.cc("ngModel",a.valor),f.Ab(3),f.oc("Tarifa de la oferta: $ ",a.oferta.oferta.tarifa,""),f.Ab(1),f.dc("value",a.oferta.oferta.tarifa),f.Ab(4),f.cc("ngModel",a.contraoferta),f.Ab(1),f.cc("ngModel",a.contraoferta),f.Ab(3),f.cc("disabled",a.habilitarBoton)}}var I,y,O,k=[{path:"",component:(I=function(){function o(e,t,a,r,n){_classCallCheck(this,o),this.activatedRoute=e,this.conductorService=t,this.alertController=a,this.modalCtrl=r,this.push=n,this.habilitarBoton=!1,this.habilitarChat=!0,this.aceptada=!1}return _createClass(o,[{key:"ngOnInit",value:function(){this.desde=this.activatedRoute.snapshot.paramMap.get("from"),this.oferta=this.conductorService.ofertaPasajero,this.valor=this.oferta.oferta.tarifa,"2"===this.desde&&(this.habilitarBoton=!0,this.oferta.completa.aceptada&&(this.habilitarChat=!1,this.aceptada=!0)),console.log(this.oferta)}},{key:"aceptar",value:function(){return Object(c.__awaiter)(this,void 0,void 0,regeneratorRuntime.mark((function o(){var e,t=this;return regeneratorRuntime.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,this.alertController.create({message:"Esta seguro de aceptar esta oferta",buttons:[{text:"Cancelar",role:"cancel"},{text:"Aceptar",handler:function(){var o={codOfertaPasajero:t.oferta.oferta.idOfertaPasajero,valor:String(t.valor)};console.log(t.valor),t.conductorService.aceptarOferta(o).subscribe((function(o){t.habilitarBoton=!0}));var e={oferta:t.oferta.oferta,lugar:"aceptar oferta de pasajero"},a=JSON.stringify({mensaje:"Un conductor a aceptado su oferta y esta a la espera de su confirmaci\xf3n",titulo:"Oferta Aceptada",idSignal:t.oferta.usuario.idSignal}),r=JSON.stringify(e);t.push.enviarNotificacion(a,r).subscribe((function(o){console.log(o)}))}}]});case 2:return e=o.sent,o.next=5,e.present();case 5:case"end":return o.stop()}}),o,this)})))}},{key:"chat",value:function(){return Object(c.__awaiter)(this,void 0,void 0,regeneratorRuntime.mark((function o(){var e;return regeneratorRuntime.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return"2"===this.desde&&(this.idConductorOfertaPasajero=this.oferta.completa.idConductorOfertaPasajero),o.next=3,this.modalCtrl.create({component:b.a,componentProps:{idOferta:this.idConductorOfertaPasajero,nombre:this.oferta.usuario.nombre}});case 3:return e=o.sent,o.next=6,e.present();case 6:case"end":return o.stop()}}),o,this)})))}}]),o}(),I.\u0275fac=function(o){return new(o||I)(f.Kb(i.a),f.Kb(l.a),f.Kb(n.b),f.Kb(n.bb),f.Kb(s.a))},I.\u0275cmp=f.Eb({type:I,selectors:[["app-ver-oferta-conductor-pasajero"]],decls:8,vars:1,consts:[["slot","start"],["defaultHref","/conductor"],[4,"ngIf"],["size","12",1,"aling-center"],["color","primary"],["size","4"],[3,"src"],["size","8"],["size","6"],["expand","block","shape","round",3,"disabled","click"],["size","8",4,"ngIf"],["name","auto",3,"ngModel","ngModelChange"],["slot","start",3,"value"],["slot","start",3,"ngModel","ngModelChange"],["type","text","placeholder","Digite su contraoferta",3,"ngModel","ngModelChange"],["size","12"],["expand","full","shape","round",3,"disabled","click"],[1,"color-text"]],template:function(o,e){1&o&&(f.Nb(0,"ion-header"),f.Nb(1,"ion-toolbar"),f.Nb(2,"ion-buttons",0),f.Lb(3,"ion-back-button",1),f.Mb(),f.Nb(4,"ion-title"),f.mc(5,"Oferta Pasajero"),f.Mb(),f.Mb(),f.Mb(),f.Nb(6,"ion-content"),f.lc(7,x,59,20,"ion-grid",2),f.Mb()),2&o&&(f.Ab(7),f.cc("ngIf",e.oferta))},directives:[n.q,n.X,n.i,n.f,n.g,n.W,n.n,a.l,n.p,n.L,n.m,n.V,n.A,n.e,n.h,n.B,n.H,n.hb,r.c,r.f,n.w,n.G,n.fb,n.v,n.ib],styles:[".color-text[_ngcontent-%COMP%]{color:red;font-style:italic}"]}),I)}],j=((O=function o(){_classCallCheck(this,o)}).\u0275mod=f.Ib({type:O}),O.\u0275inj=f.Hb({factory:function(o){return new(o||O)},imports:[[i.i.forChild(k)],i.i]}),O),P=((y=function o(){_classCallCheck(this,o)}).\u0275mod=f.Ib({type:y}),y.\u0275inj=f.Hb({factory:function(o){return new(o||y)},imports:[[a.c,r.a,n.Y,j]]}),y)}}]);