(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{TQtl:function(o,t,i){"use strict";i.r(t),i.d(t,"OfertasPasajeroPageModule",(function(){return w}));var e=i("ofXK"),n=i("3Pt+"),s=i("TEn/"),r=i("tyNb"),a=i("mrSG"),c=i("fXoL"),b=i("on2l");const l=["slides"],f=["lista"],u=["content"];function d(o,t){1&o&&(c.Nb(0,"h1"),c.mc(1,"Ciudad"),c.Mb())}function h(o,t){1&o&&(c.Nb(0,"h1"),c.mc(1,"Interurbano"),c.Mb())}function p(o,t){1&o&&(c.Nb(0,"h1"),c.mc(1,"Envio"),c.Mb())}function g(o,t){1&o&&(c.Nb(0,"h1"),c.mc(1,"Mercancia"),c.Mb())}function m(o,t){if(1&o){const o=c.Ob();c.Nb(0,"ion-item-sliding"),c.Nb(1,"ion-item",21),c.Vb("click",(function(){c.ic(o);const i=t.$implicit;return c.Xb().verOfertaPasajero(i)})),c.Nb(2,"ion-label"),c.lc(3,d,2,0,"h1",19),c.lc(4,h,2,0,"h1",19),c.lc(5,p,2,0,"h1",19),c.lc(6,g,2,0,"h1",19),c.Nb(7,"p"),c.mc(8),c.Mb(),c.Mb(),c.Nb(9,"ion-label",22),c.mc(10),c.Mb(),c.Mb(),c.Mb()}if(2&o){const o=t.$implicit;c.Ab(3),c.cc("ngIf","1"==o.codTipoServicio),c.Ab(1),c.cc("ngIf","2"==o.codTipoServicio),c.Ab(1),c.cc("ngIf","3"==o.codTipoServicio),c.Ab(1),c.cc("ngIf","4"==o.codTipoServicio),c.Ab(2),c.oc("Comentarios: ",o.comentarios,""),c.Ab(2),c.oc(" $: ",o.tarifa," ")}}function M(o,t){if(1&o){const o=c.Ob();c.Nb(0,"ion-list",null,17),c.Nb(2,"ion-item",23),c.Vb("click",(function(){c.ic(o);const i=t.$implicit;return c.Xb(2).verOfertaConductor(i)})),c.Nb(3,"ion-label"),c.Nb(4,"h1"),c.mc(5),c.Mb(),c.Nb(6,"p"),c.mc(7),c.Mb(),c.Nb(8,"p"),c.mc(9),c.Mb(),c.Nb(10,"p"),c.mc(11),c.Mb(),c.Nb(12,"p",24),c.mc(13),c.Mb(),c.Mb(),c.Mb(),c.Mb()}if(2&o){const o=t.$implicit;c.Ab(5),c.oc("Conductor: ",o.usuario.nombre,""),c.Ab(2),c.oc("Origen: ",o.oferta.origen,""),c.Ab(2),c.oc("Destino: ",o.oferta.destino,""),c.Ab(2),c.oc("Comentarios: ",o.oferta.comentarios,""),c.Ab(2),c.oc("$: ",o.oferta.tarifa,"")}}function N(o,t){if(1&o&&(c.Nb(0,"ion-row"),c.Nb(1,"ion-col",16),c.lc(2,M,14,5,"ion-list",18),c.Mb(),c.Mb()),2&o){const o=c.Xb();c.Ab(2),c.cc("ngForOf",o.aceptadas)}}const v=[{path:"",component:(()=>{class o{constructor(o,t,i){this.menuCtrl=o,this.usuarioService=t,this.navCtrl=i,this.ofertas=[],this.aceptadas=[],this.habilitado=!0}ngOnInit(){this.cargarOfertas(!1,!0)}cargarOfertas(o,t=!1){return Object(a.__awaiter)(this,void 0,void 0,(function*(){this.usuarioService.getUsuarioToken().then(i=>{this.usuario=i,this.usuarioService.buscarOfertasCPasajero(this.usuario.idUsuario,t).subscribe(t=>{console.log(t.ofertas),this.ofertas.push(...t.ofertas),o&&(o.target.complete(),0===t.ofertas.length&&"ofertadas"===this.tipo&&(this.habilitado=!1))}),this.usuarioService.ofertasAceptadas(this.usuario.idUsuario,t).subscribe(t=>{this.aceptadas.push(...t.ofertas),o&&(console.log("entro al si",t.ofertas.length),o.target.complete(),0===t.ofertas.length&&"aceptadas"===this.tipo&&(this.habilitado=!1))})}).catch(o=>{console.log(o)})}))}recargar(o){this.aceptadas=[],this.ofertas=[],this.cargarOfertas(o,!0),this.habilitado=!0}toggleMenu(){this.menuCtrl.toggle()}segmentChanged(o){const t=o.detail.value;if(console.log(t),"aceptadas"===t)return this.slides.lockSwipes(!1),this.slides.slideTo(1),this.slides.lockSwipes(!0),this.content.scrollToTop(),void(this.tipo="aceptadas");this.slides.lockSwipes(!1),this.slides.slideTo(0),this.slides.lockSwipes(!0),this.content.scrollToTop(),this.tipo="ofertadas"}verOfertaConductor(o){this.usuarioService.ofertaConductor=o,this.navCtrl.navigateRoot("/ver-oferta/2",{animated:!0})}verOfertaPasajero(o){this.usuarioService.ofertaPasajero=o,this.navCtrl.navigateRoot("/ver-oferta-pasajero",{animated:!0})}}return o.\u0275fac=function(t){return new(t||o)(c.Kb(s.Z),c.Kb(b.a),c.Kb(s.bb))},o.\u0275cmp=c.Eb({type:o,selectors:[["app-ofertas-pasajero"]],viewQuery:function(o,t){var i;1&o&&(c.qc(l,!0),c.qc(f,!0),c.qc(u,!0)),2&o&&(c.gc(i=c.Wb())&&(t.slides=i.first),c.gc(i=c.Wb())&&(t.lista=i.first),c.gc(i=c.Wb())&&(t.content=i.first))},decls:34,vars:4,consts:[[1,"ion-no-border"],["color","#f77708"],["slot","start",3,"click"],["menu","primerMenu","color","#ffffff"],["slot","end",1,"imagenIco"],["src","./assets/imagenes/logo1.png"],[3,"scrollEvents"],["content",""],["color","tertiary","value","ofertadas",3,"ionChange"],["value","ofertadas"],["value","aceptadas"],["slot","fixed","pullFactor","0.8","pullMin","60","pullMax","120",3,"ionRefresh"],["refresh",""],["mode","ios","pager","false","scrollbar","ios"],["slides",""],["fixed",""],["size","12"],["lista",""],[4,"ngFor","ngForOf"],[4,"ngIf"],["threshold","150px","position","bottom",3,"disabled","ionInfinite"],["color","light",3,"click"],["slot","end",1,"ion-text-right"],["color","medium",3,"click"],[1,"ion-text-right"]],template:function(o,t){1&o&&(c.Nb(0,"ion-header",0),c.Nb(1,"ion-toolbar",1),c.Nb(2,"ion-buttons",2),c.Vb("click",(function(){return t.toggleMenu()})),c.Lb(3,"ion-menu-button",3),c.Mb(),c.Nb(4,"ion-title"),c.mc(5,"Ofertas pasajero"),c.Mb(),c.Nb(6,"ion-buttons",4),c.Lb(7,"img",5),c.Mb(),c.Mb(),c.Mb(),c.Nb(8,"ion-content",6,7),c.Nb(10,"ion-segment",8),c.Vb("ionChange",(function(o){return t.segmentChanged(o)})),c.Nb(11,"ion-segment-button",9),c.Nb(12,"ion-label"),c.mc(13,"Ofertadas"),c.Mb(),c.Mb(),c.Nb(14,"ion-segment-button",10),c.Nb(15,"ion-label"),c.mc(16,"Aceptadas"),c.Mb(),c.Mb(),c.Mb(),c.Nb(17,"ion-refresher",11,12),c.Vb("ionRefresh",(function(o){return t.recargar(o)})),c.Lb(19,"ion-refresher-content"),c.Mb(),c.Nb(20,"ion-slides",13,14),c.Nb(22,"ion-slide"),c.Nb(23,"ion-grid",15),c.Nb(24,"ion-row"),c.Nb(25,"ion-col",16),c.Nb(26,"ion-list",null,17),c.lc(28,m,11,6,"ion-item-sliding",18),c.Mb(),c.Mb(),c.Mb(),c.Mb(),c.Mb(),c.Nb(29,"ion-slide"),c.Nb(30,"ion-grid",15),c.lc(31,N,3,1,"ion-row",19),c.Mb(),c.Mb(),c.Mb(),c.Nb(32,"ion-infinite-scroll",20),c.Vb("ionInfinite",(function(o){return t.cargarOfertas(o)})),c.Lb(33,"ion-infinite-scroll-content"),c.Mb(),c.Mb()),2&o&&(c.Ab(8),c.cc("scrollEvents",!0),c.Ab(20),c.cc("ngForOf",t.ofertas),c.Ab(3),c.cc("ngIf",t.aceptadas),c.Ab(1),c.cc("disabled",!t.habilitado))},directives:[s.q,s.W,s.i,s.D,s.V,s.n,s.L,s.gb,s.M,s.A,s.H,s.I,s.Q,s.P,s.p,s.K,s.m,s.B,e.j,e.k,s.t,s.u,s.z,s.w],styles:[""]}),o})()}];let O=(()=>{class o{}return o.\u0275mod=c.Ib({type:o}),o.\u0275inj=c.Hb({factory:function(t){return new(t||o)},imports:[[r.i.forChild(v)],r.i]}),o})(),w=(()=>{class o{}return o.\u0275mod=c.Ib({type:o}),o.\u0275inj=c.Hb({factory:function(t){return new(t||o)},imports:[[e.c,n.a,s.X,O]]}),o})()}}]);