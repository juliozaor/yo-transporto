(window.webpackJsonp=window.webpackJsonp||[]).push([[38],{"t+IC":function(o,t,e){"use strict";e.r(t),e.d(t,"VerOfertaPageModule",(function(){return P}));var a=e("ofXK"),i=e("3Pt+"),n=e("TEn/"),c=e("tyNb"),r=e("fXoL"),b=e("mrSG"),s=e("ZJfK"),l=e("6gyQ"),f=e("on2l"),d=e("H+l1");function u(o,t){1&o&&(r.Nb(0,"h4"),r.mc(1,"Ciudad"),r.Mb())}function M(o,t){1&o&&(r.Nb(0,"h4"),r.mc(1,"Interurbano"),r.Mb())}function h(o,t){1&o&&(r.Nb(0,"h4"),r.mc(1,"Domicilio"),r.Mb())}function N(o,t){1&o&&(r.Nb(0,"h4"),r.mc(1,"Mercancia"),r.Mb())}function p(o,t){if(1&o&&(r.Nb(0,"ion-col",10),r.Nb(1,"ion-text",2),r.Nb(2,"h3"),r.Nb(3,"ion-label",2),r.mc(4,"Fecha de salida:"),r.Mb(),r.mc(5),r.Mb(),r.Mb(),r.Mb()),2&o){const o=r.Xb(2);r.Ab(5),r.oc(" ",o.oferta.oferta.fecha_salida,"")}}function m(o,t){if(1&o&&(r.Nb(0,"ion-col",10),r.Nb(1,"ion-text",2),r.Nb(2,"h3"),r.Nb(3,"ion-label",2),r.mc(4,"Hora de salida:"),r.Mb(),r.mc(5),r.Mb(),r.Mb(),r.Mb()),2&o){const o=r.Xb(2);r.Ab(5),r.oc(" ",o.oferta.oferta.hora_salida,"")}}function g(o,t){if(1&o&&(r.Nb(0,"ion-col",10),r.Nb(1,"ion-text",2),r.Nb(2,"h3"),r.Nb(3,"ion-label",2),r.mc(4,"Capacidad de carga:"),r.Mb(),r.mc(5),r.Mb(),r.Mb(),r.Mb()),2&o){const o=r.Xb(2);r.Ab(5),r.oc(" ",o.oferta.oferta.capacidadCarga,"")}}function A(o,t){if(1&o&&(r.Nb(0,"ion-col",10),r.Nb(1,"ion-text",2),r.Nb(2,"h3"),r.Nb(3,"ion-label",2),r.mc(4,"Cupo para pasajeros:"),r.Mb(),r.mc(5),r.Mb(),r.Mb(),r.Mb()),2&o){const o=r.Xb(2);r.Ab(5),r.oc(" ",o.oferta.oferta.cantPasajeros,"")}}function v(o,t){if(1&o&&(r.Nb(0,"ion-col",10),r.Nb(1,"ion-text",2),r.Nb(2,"h3"),r.Nb(3,"ion-label",2),r.mc(4,"paqueteria:"),r.Mb(),r.mc(5),r.Mb(),r.Mb(),r.Mb()),2&o){const o=r.Xb(2);r.Ab(5),r.oc(" ",o.oferta.oferta.paqueteriaMensajeria,"")}}function w(o,t){if(1&o&&(r.Nb(0,"ion-row"),r.Nb(1,"ion-col",6),r.Nb(2,"ion-text",2),r.Nb(3,"h3"),r.mc(4,"Comentarios: "),r.Mb(),r.Mb(),r.Mb(),r.Nb(5,"ion-col",6),r.Nb(6,"ion-text"),r.Nb(7,"p"),r.mc(8),r.Mb(),r.Mb(),r.Mb(),r.Mb()),2&o){const o=r.Xb(2);r.Ab(8),r.nc(o.oferta.oferta.comentarios)}}function C(o,t){1&o&&(r.Nb(0,"ion-col",5),r.Nb(1,"ion-text",11),r.Nb(2,"h4"),r.mc(3,"Debe esperar que el due\xf1o de la oferta acepte para que se habilite el chat"),r.Mb(),r.Mb(),r.Mb())}function I(o,t){if(1&o){const o=r.Ob();r.Nb(0,"ion-row"),r.Nb(1,"ion-col",1),r.Nb(2,"ion-list"),r.Nb(3,"ion-radio-group",12),r.Vb("ngModelChange",(function(t){return r.ic(o),r.Xb(2).valor=t})),r.Nb(4,"ion-item"),r.Nb(5,"ion-label"),r.mc(6),r.Mb(),r.Lb(7,"ion-radio",13),r.Mb(),r.Nb(8,"ion-item"),r.Nb(9,"ion-label"),r.mc(10,"contraoferta: $ "),r.Mb(),r.Nb(11,"ion-radio",14),r.Vb("ngModelChange",(function(t){return r.ic(o),r.Xb(2).contraoferta=t})),r.Mb(),r.Nb(12,"ion-input",15),r.Vb("ngModelChange",(function(t){return r.ic(o),r.Xb(2).contraoferta=t})),r.Mb(),r.Mb(),r.Mb(),r.Mb(),r.Mb(),r.Mb()}if(2&o){const o=r.Xb(2);r.Ab(3),r.cc("ngModel",o.valor),r.Ab(3),r.oc("Tarifa de la oferta: $ ",o.oferta.oferta.tarifa,""),r.Ab(1),r.dc("value",o.oferta.oferta.tarifa),r.Ab(4),r.cc("ngModel",o.contraoferta),r.Ab(1),r.cc("ngModel",o.contraoferta)}}function y(o,t){if(1&o&&(r.Nb(0,"ion-row"),r.Nb(1,"ion-col",1),r.Nb(2,"ion-item"),r.Nb(3,"ion-text",2),r.Nb(4,"h3"),r.mc(5),r.Mb(),r.Mb(),r.Mb(),r.Mb(),r.Mb()),2&o){const o=r.Xb(2);r.Ab(5),r.oc("Tarifa de la oferta: $ ",o.oferta.oferta.tarifa,"")}}function O(o,t){if(1&o){const o=r.Ob();r.Nb(0,"ion-row"),r.Nb(1,"ion-col",10),r.Nb(2,"ion-button",16),r.Vb("click",(function(){return r.ic(o),r.Xb(2).aceptar()})),r.mc(3," Aceptar "),r.Mb(),r.Mb(),r.Mb()}if(2&o){const o=r.Xb(2);r.Ab(2),r.cc("disabled",o.habilitarBoton)}}function x(o,t){if(1&o){const o=r.Ob();r.Nb(0,"ion-row"),r.Nb(1,"ion-col",10),r.Nb(2,"ion-button",17),r.Vb("click",(function(){return r.ic(o),r.Xb(2).calificar()})),r.mc(3," Finalizar oferta "),r.Mb(),r.Mb(),r.Mb()}}function X(o,t){if(1&o){const o=r.Ob();r.Nb(0,"ion-grid"),r.Nb(1,"ion-row"),r.Nb(2,"ion-col",1),r.Nb(3,"ion-text"),r.Nb(4,"h3"),r.Nb(5,"ion-label",2),r.mc(6,"Conductor:"),r.Mb(),r.mc(7),r.Mb(),r.Mb(),r.Mb(),r.Mb(),r.Nb(8,"ion-row"),r.Nb(9,"ion-col",3),r.Nb(10,"ion-avatar"),r.Lb(11,"img",4),r.Mb(),r.Mb(),r.Nb(12,"ion-col",5),r.Nb(13,"ion-text"),r.Nb(14,"h3"),r.Nb(15,"ion-label",2),r.mc(16,"Origen:"),r.Mb(),r.mc(17),r.Mb(),r.Nb(18,"h3"),r.Nb(19,"ion-label",2),r.mc(20,"Destino:"),r.Mb(),r.mc(21),r.Mb(),r.Mb(),r.Mb(),r.Mb(),r.Nb(22,"ion-row"),r.Nb(23,"ion-col",6),r.Nb(24,"ion-text",2),r.Nb(25,"h3"),r.mc(26,"Tipo de servicio: "),r.Mb(),r.Mb(),r.Mb(),r.Nb(27,"ion-col",6),r.Nb(28,"ion-text"),r.lc(29,u,2,0,"h4",0),r.lc(30,M,2,0,"h4",0),r.lc(31,h,2,0,"h4",0),r.lc(32,N,2,0,"h4",0),r.Mb(),r.Mb(),r.Mb(),r.Nb(33,"ion-row"),r.lc(34,p,6,1,"ion-col",7),r.Mb(),r.Nb(35,"ion-row"),r.lc(36,m,6,1,"ion-col",7),r.Mb(),r.Nb(37,"ion-row"),r.lc(38,g,6,1,"ion-col",7),r.Mb(),r.Nb(39,"ion-row"),r.lc(40,A,6,1,"ion-col",7),r.Mb(),r.Nb(41,"ion-row"),r.lc(42,v,6,1,"ion-col",7),r.Mb(),r.lc(43,w,9,1,"ion-row",0),r.Nb(44,"ion-row"),r.Nb(45,"ion-col",3),r.Nb(46,"ion-button",8),r.Vb("click",(function(){return r.ic(o),r.Xb().chat()})),r.mc(47," chat "),r.Mb(),r.Mb(),r.lc(48,C,4,0,"ion-col",9),r.Mb(),r.lc(49,I,13,5,"ion-row",0),r.lc(50,y,6,1,"ion-row",0),r.lc(51,O,4,1,"ion-row",0),r.lc(52,x,4,0,"ion-row",0),r.Mb()}if(2&o){const o=r.Xb();r.Ab(7),r.oc("",o.oferta.usuario.nombre," "),r.Ab(4),r.ec("src","../../../assets/avatars/",o.oferta.usuario.foto,"",r.jc),r.Ab(6),r.oc(" ",o.oferta.oferta.origen,""),r.Ab(4),r.oc(" ",o.oferta.oferta.destino,""),r.Ab(8),r.cc("ngIf",1==o.oferta.oferta.codTipoServicio),r.Ab(1),r.cc("ngIf",2==o.oferta.oferta.codTipoServicio),r.Ab(1),r.cc("ngIf",3==o.oferta.oferta.codTipoServicio),r.Ab(1),r.cc("ngIf",4==o.oferta.oferta.codTipoServicio),r.Ab(2),r.cc("ngIf",""!=o.oferta.oferta.fecha_salida),r.Ab(2),r.cc("ngIf",""!=o.oferta.oferta.hora_salida),r.Ab(2),r.cc("ngIf",""!=o.oferta.oferta.capacidadCarga),r.Ab(2),r.cc("ngIf",""!=o.oferta.oferta.cantPasajeros),r.Ab(2),r.cc("ngIf",""!=o.oferta.oferta.paqueteriaMensajeria),r.Ab(1),r.cc("ngIf",""!=o.oferta.oferta.comentarios),r.Ab(3),r.cc("disabled",o.habilitarChat),r.Ab(2),r.cc("ngIf",0==o.aceptada),r.Ab(1),r.cc("ngIf","1"==o.desde),r.Ab(1),r.cc("ngIf","2"==o.desde),r.Ab(1),r.cc("ngIf","1"==o.desde),r.Ab(1),r.cc("ngIf","2"==o.desde)}}let j=(()=>{class o{constructor(o,t,e,a,i){this.usuarioService=o,this.navCtrl=t,this.modalCtrl=e,this.alertController=a,this.push=i,this.aceptada=!1,this.habilitarChat=!0,this.habilitarBoton=!1}ngOnInit(){this.oferta=this.usuarioService.ofertaConductor,console.log(this.oferta),this.valor=this.oferta.oferta.tarifa,"2"===this.desde&&(this.habilitarBoton=!0,this.oferta.completa.aceptada&&(this.habilitarChat=!1,this.aceptada=!0))}aceptar(){return Object(b.__awaiter)(this,void 0,void 0,(function*(){const o=yield this.alertController.create({message:"Esta seguro de aceptar esta oferta",buttons:[{text:"Cancelar",role:"cancel"},{text:"Aceptar",handler:()=>{const o={codOfertaConductor:this.oferta.oferta.idOfertaConductor,valor:String(this.valor)};this.usuarioService.aceptarOferta(o).subscribe(o=>{this.habilitarBoton=!0});const t={oferta:this.oferta.oferta,lugar:"aceptar oferta de conductor"};JSON.stringify({mensaje:"Un usuario a aceptado su oferta y esta a la espera de su confirmaci\xf3n",titulo:"Oferta Aceptada",idSignal:this.oferta.usuario.idSignal}),JSON.stringify(t)}}]});yield o.present()}))}chat(){return Object(b.__awaiter)(this,void 0,void 0,(function*(){"2"===this.desde&&(this.idPasajeroOfertaConductor=this.oferta.completa.idPasajeroOfertaConductor);const o=yield this.modalCtrl.create({component:s.a,componentProps:{idOferta:this.idPasajeroOfertaConductor,nombre:this.oferta.usuario.nombre}});yield o.present()}))}calificar(){return Object(b.__awaiter)(this,void 0,void 0,(function*(){const o=yield this.modalCtrl.create({component:l.a,componentProps:{conductor:!0,cod:this.oferta.usuario.idUsuario}});yield o.present(),yield o.onDidDismiss()}))}}return o.\u0275fac=function(t){return new(t||o)(r.Kb(f.a),r.Kb(n.bb),r.Kb(n.ab),r.Kb(n.b),r.Kb(d.a))},o.\u0275cmp=r.Eb({type:o,selectors:[["app-oferta"]],inputs:{desde:"desde"},decls:1,vars:1,consts:[[4,"ngIf"],["size","12",1,"aling-center"],["color","secondary"],["size","4"],[3,"src"],["size","8"],["size","6"],["size","12",4,"ngIf"],["expand","block","shape","round",3,"disabled","click"],["size","8",4,"ngIf"],["size","12"],[1,"color-text"],["name","auto",3,"ngModel","ngModelChange"],["slot","start",3,"value"],["slot","start",3,"ngModel","ngModelChange"],["type","text","placeholder","Digite su contraoferta",3,"ngModel","ngModelChange"],["expand","full","shape","round",3,"disabled","click"],["expand","full","shape","round",3,"click"]],template:function(o,t){1&o&&r.lc(0,X,53,20,"ion-grid",0),2&o&&r.cc("ngIf",t.oferta)},directives:[a.k,n.p,n.K,n.m,n.U,n.A,n.e,n.h,n.B,n.G,n.gb,i.c,i.f,n.w,n.F,n.eb,n.v,n.hb],styles:[""]}),o})();const S=[{path:"",component:(()=>{class o{constructor(o){this.activatedRoute=o}ngOnInit(){this.desde=this.activatedRoute.snapshot.paramMap.get("from")}}return o.\u0275fac=function(t){return new(t||o)(r.Kb(c.a))},o.\u0275cmp=r.Eb({type:o,selectors:[["app-ver-oferta"]],decls:10,vars:1,consts:[["color","#f77708"],["slot","start"],["defaultHref","/"],["slot","end",1,"imagenIco"],["src","./assets/imagenes/logo1.png"],[3,"desde"]],template:function(o,t){1&o&&(r.Nb(0,"ion-header"),r.Nb(1,"ion-toolbar",0),r.Nb(2,"ion-buttons",1),r.Lb(3,"ion-back-button",2),r.Mb(),r.Nb(4,"ion-title"),r.mc(5,"Ver oferta"),r.Mb(),r.Nb(6,"ion-buttons",3),r.Lb(7,"img",4),r.Mb(),r.Mb(),r.Mb(),r.Nb(8,"ion-content"),r.Lb(9,"app-oferta",5),r.Mb()),2&o&&(r.Ab(9),r.cc("desde",t.desde))},directives:[n.q,n.W,n.i,n.f,n.g,n.V,n.n,j],styles:[".top-10[_ngcontent-%COMP%]{margin-top:10px}"]}),o})()}];let k=(()=>{class o{}return o.\u0275mod=r.Ib({type:o}),o.\u0275inj=r.Hb({factory:function(t){return new(t||o)},imports:[[c.i.forChild(S)],c.i]}),o})();var _=e("j1ZV");let P=(()=>{class o{}return o.\u0275mod=r.Ib({type:o}),o.\u0275inj=r.Hb({factory:function(t){return new(t||o)},imports:[[a.c,i.a,n.X,_.a,k]]}),o})()}}]);