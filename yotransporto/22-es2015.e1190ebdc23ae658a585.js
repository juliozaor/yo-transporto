(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{TQtl:function(i,o,t){"use strict";t.r(o),t.d(o,"OfertasPasajeroPageModule",(function(){return w}));var e=t("ofXK"),n=t("3Pt+"),s=t("TEn/"),r=t("tyNb"),a=t("mrSG"),c=t("fXoL"),b=t("on2l");const l=["slides"],u=["lista"],f=["content"];function d(i,o){if(1&i){const i=c.Ob();c.Nb(0,"ion-list",null,15),c.Nb(2,"ion-item",18),c.Vb("click",(function(){c.ic(i);const t=o.$implicit;return c.Xb(2).verOfertaConductor(t)})),c.Nb(3,"ion-label"),c.Nb(4,"h1"),c.mc(5),c.Mb(),c.Nb(6,"p"),c.mc(7),c.Mb(),c.Nb(8,"p"),c.mc(9),c.Mb(),c.Nb(10,"p"),c.mc(11),c.Mb(),c.Nb(12,"p",19),c.mc(13),c.Mb(),c.Mb(),c.Mb(),c.Mb()}if(2&i){const i=o.$implicit;c.Ab(5),c.oc("Conductor: ",i.usuario.nombre,""),c.Ab(2),c.oc("Origen: ",i.oferta.origen,""),c.Ab(2),c.oc("Destino: ",i.oferta.destino,""),c.Ab(2),c.oc("Comentarios: ",i.oferta.comentarios,""),c.Ab(2),c.oc("precio: ",i.oferta.tarifa,"")}}function h(i,o){if(1&i&&(c.Nb(0,"ion-row"),c.Nb(1,"ion-col",14),c.lc(2,d,14,5,"ion-list",16),c.Mb(),c.Mb()),2&i){const i=c.Xb();c.Ab(2),c.cc("ngForOf",i.aceptadas)}}function p(i,o){1&i&&(c.Nb(0,"h1"),c.mc(1,"Ciudad"),c.Mb())}function g(i,o){1&i&&(c.Nb(0,"h1"),c.mc(1,"Interurbano"),c.Mb())}function m(i,o){1&i&&(c.Nb(0,"h1"),c.mc(1,"Envio"),c.Mb())}function M(i,o){1&i&&(c.Nb(0,"h1"),c.mc(1,"Mercancia"),c.Mb())}function N(i,o){if(1&i){const i=c.Ob();c.Nb(0,"ion-item-sliding"),c.Nb(1,"ion-item",20),c.Vb("click",(function(){c.ic(i);const t=o.$implicit;return c.Xb().verOfertaPasajero(t)})),c.Nb(2,"ion-label"),c.lc(3,p,2,0,"h1",13),c.lc(4,g,2,0,"h1",13),c.lc(5,m,2,0,"h1",13),c.lc(6,M,2,0,"h1",13),c.Nb(7,"p"),c.mc(8),c.Mb(),c.Mb(),c.Nb(9,"ion-label",21),c.mc(10),c.Mb(),c.Mb(),c.Mb()}if(2&i){const i=o.$implicit;c.Ab(3),c.cc("ngIf","1"==i.codTipoServicio),c.Ab(1),c.cc("ngIf","2"==i.codTipoServicio),c.Ab(1),c.cc("ngIf","3"==i.codTipoServicio),c.Ab(1),c.cc("ngIf","4"==i.codTipoServicio),c.Ab(2),c.oc("Comentarios: ",i.comentarios,""),c.Ab(2),c.oc(" precio: ",i.tarifa," ")}}const v=[{path:"",component:(()=>{class i{constructor(i,o,t){this.menuCtrl=i,this.usuarioService=o,this.navCtrl=t,this.ofertas=[],this.aceptadas=[],this.habilitado=!0}ngOnInit(){this.cargarOfertas(!1)}cargarOfertas(i,o=!1){return Object(a.__awaiter)(this,void 0,void 0,(function*(){this.usuarioService.getUsuarioToken().then(t=>{this.usuario=t,this.usuarioService.buscarOfertasCPasajero(this.usuario.idUsuario,o).subscribe(o=>{console.log(o.ofertas),this.ofertas.push(...o.ofertas),i&&(console.log("entro al si",o.ofertas.length),i.target.complete(),0===o.ofertas.length&&"ofertadas"===this.tipo&&(this.habilitado=!1))}),this.usuarioService.ofertasAceptadas(this.usuario.idUsuario,o).subscribe(o=>{this.aceptadas.push(...o.ofertas),i&&(console.log("entro al si",o.ofertas.length),i.target.complete(),0===o.ofertas.length&&"aceptadas"===this.tipo&&(this.habilitado=!1))})}).catch(i=>{console.log(i)})}))}recargar(i){this.aceptadas=[],this.ofertas=[],this.cargarOfertas(i,!0),this.habilitado=!0}toggleMenu(){this.menuCtrl.toggle()}segmentChanged(i){const o=i.detail.value;if(console.log(o),"aceptadas"===o)return this.slides.lockSwipes(!1),this.slides.slideTo(0),this.slides.lockSwipes(!0),this.content.scrollToTop(),void(this.tipo="aceptadas");this.slides.lockSwipes(!1),this.slides.slideTo(1),this.slides.lockSwipes(!0),this.content.scrollToTop(),this.tipo="ofertadas"}verOfertaConductor(i){this.usuarioService.ofertaConductor=i,this.navCtrl.navigateRoot("/ver-oferta/2",{animated:!0})}verOfertaPasajero(i){this.usuarioService.ofertaPasajero=i,this.navCtrl.navigateRoot("/ver-oferta-pasajero",{animated:!0})}}return i.\u0275fac=function(o){return new(o||i)(c.Kb(s.ab),c.Kb(b.a),c.Kb(s.cb))},i.\u0275cmp=c.Eb({type:i,selectors:[["app-ofertas-pasajero"]],viewQuery:function(i,o){var t;1&i&&(c.qc(l,!0),c.qc(u,!0),c.qc(f,!0)),2&i&&(c.gc(t=c.Wb())&&(o.slides=t.first),c.gc(t=c.Wb())&&(o.lista=t.first),c.gc(t=c.Wb())&&(o.content=t.first))},decls:33,vars:4,consts:[[1,"ion-no-border"],["slot","start",3,"click"],["menu","primerMenu","color","primary"],["color","tertiary","value","recibidas",3,"ionChange"],["value","aceptadas"],["value","ofertadas"],[3,"scrollEvents"],["content",""],["slot","fixed","pullFactor","0.8","pullMin","60","pullMax","120",3,"ionRefresh"],["refresh",""],["mode","ios","pager","false","scrollbar","ios"],["slides",""],["fixed",""],[4,"ngIf"],["size","12"],["lista",""],[4,"ngFor","ngForOf"],["threshold","150px","position","bottom",3,"disabled","ionInfinite"],["color","medium",3,"click"],[1,"ion-text-right"],["color","light",3,"click"],["slot","end",1,"ion-text-right"]],template:function(i,o){1&i&&(c.Nb(0,"ion-header",0),c.Nb(1,"ion-toolbar"),c.Nb(2,"ion-buttons",1),c.Vb("click",(function(){return o.toggleMenu()})),c.Lb(3,"ion-menu-button",2),c.Mb(),c.Nb(4,"ion-title"),c.mc(5,"Ofertas pasajero"),c.Mb(),c.Mb(),c.Mb(),c.Nb(6,"ion-header"),c.Nb(7,"ion-segment",3),c.Vb("ionChange",(function(i){return o.segmentChanged(i)})),c.Nb(8,"ion-segment-button",4),c.Nb(9,"ion-label"),c.mc(10,"Aceptadas"),c.Mb(),c.Mb(),c.Nb(11,"ion-segment-button",5),c.Nb(12,"ion-label"),c.mc(13,"Ofertadas"),c.Mb(),c.Mb(),c.Mb(),c.Mb(),c.Nb(14,"ion-content",6,7),c.Nb(16,"ion-refresher",8,9),c.Vb("ionRefresh",(function(i){return o.recargar(i)})),c.Lb(18,"ion-refresher-content"),c.Mb(),c.Nb(19,"ion-slides",10,11),c.Nb(21,"ion-slide"),c.Nb(22,"ion-grid",12),c.lc(23,h,3,1,"ion-row",13),c.Mb(),c.Mb(),c.Nb(24,"ion-slide"),c.Nb(25,"ion-grid",12),c.Nb(26,"ion-row"),c.Nb(27,"ion-col",14),c.Nb(28,"ion-list",null,15),c.lc(30,N,11,6,"ion-item-sliding",16),c.Mb(),c.Mb(),c.Mb(),c.Mb(),c.Mb(),c.Mb(),c.Nb(31,"ion-infinite-scroll",17),c.Vb("ionInfinite",(function(i){return o.cargarOfertas(i)})),c.Lb(32,"ion-infinite-scroll-content"),c.Mb(),c.Mb()),2&i&&(c.Ab(14),c.cc("scrollEvents",!0),c.Ab(9),c.cc("ngIf",o.aceptadas),c.Ab(7),c.cc("ngForOf",o.ofertas),c.Ab(1),c.cc("disabled",!o.habilitado))},directives:[s.q,s.X,s.i,s.E,s.W,s.M,s.hb,s.N,s.A,s.n,s.I,s.J,s.R,s.Q,s.p,e.l,s.L,s.m,s.B,e.k,s.t,s.u,s.w,s.z],styles:[""]}),i})()}];let O=(()=>{class i{}return i.\u0275mod=c.Ib({type:i}),i.\u0275inj=c.Hb({factory:function(o){return new(o||i)},imports:[[r.i.forChild(v)],r.i]}),i})(),w=(()=>{class i{}return i.\u0275mod=c.Ib({type:i}),i.\u0275inj=c.Hb({factory:function(o){return new(o||i)},imports:[[e.c,n.a,s.Y,O]]}),i})()}}]);