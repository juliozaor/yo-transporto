(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{HRn4:function(t,o,e){"use strict";e.r(o),e.d(o,"OfertasConductorPageModule",(function(){return g}));var i=e("ofXK"),r=e("3Pt+"),n=e("TEn/"),s=e("tyNb"),a=e("mrSG"),c=e("fXoL"),b=e("on2l");const l=["refresh"];function f(t,o){if(1&t){const t=c.Ob();c.Nb(0,"div"),c.Nb(1,"ion-item",14),c.Vb("click",(function(){c.ic(t);const o=c.Xb().$implicit;return c.Xb(2).verOfertaConductor(o)})),c.Nb(2,"ion-label"),c.Nb(3,"h1"),c.mc(4),c.Mb(),c.Nb(5,"p"),c.mc(6),c.Mb(),c.Nb(7,"p"),c.mc(8),c.Mb(),c.Nb(9,"p"),c.mc(10),c.Mb(),c.Nb(11,"p",15),c.mc(12),c.Mb(),c.Mb(),c.Mb(),c.Mb()}if(2&t){const t=c.Xb().$implicit;c.Ab(4),c.oc("Conductor: ",t.usuario.nombre,""),c.Ab(2),c.oc("Origen: ",t.oferta.origen,""),c.Ab(2),c.oc("Destino: ",t.oferta.destino,""),c.Ab(2),c.oc("Comentarios: ",t.oferta.comentarios,""),c.Ab(2),c.oc("$: ",t.oferta.tarifa,"")}}function u(t,o){if(1&t&&(c.Nb(0,"ion-list",null,13),c.lc(2,f,13,5,"div",9),c.Mb()),2&t){const t=o.$implicit,e=c.Xb(2);c.Ab(2),c.cc("ngIf",e.validar(t.oferta.createdAt,t.oferta.comentarios))}}function d(t,o){if(1&t&&(c.Nb(0,"ion-row"),c.Nb(1,"ion-col",11),c.lc(2,u,3,1,"ion-list",12),c.Mb(),c.Mb()),2&t){const t=c.Xb();c.Ab(2),c.cc("ngForOf",t.ofertasCompletas)}}const m=[{path:"",component:(()=>{class t{constructor(t,o,e,i){this.activatedRoute=t,this.usuarioService=o,this.navCtrl=e,this.menuCtrl=i,this.ofertasCompletas=[],this.habilitado=!0}ngOnInit(){this.usuarioService.getUsuarioToken().then(t=>Object(a.__awaiter)(this,void 0,void 0,(function*(){this.usuario=yield t,yield this.cargarOfertas(!1)})))}cargarOfertas(t,o=!1){return Object(a.__awaiter)(this,void 0,void 0,(function*(){this.idTipoOferta=yield this.activatedRoute.snapshot.paramMap.get("idTipoOferta"),yield this.usuarioService.ofertasConductor(this.idTipoOferta,o).subscribe(o=>{this.ofertasCompletas.push(...o.ofertas),console.log(this.ofertasCompletas),t&&(console.log("entro al si",o.ofertas),t.target.complete(),0===o.ofertas.length&&(this.habilitado=!1))})}))}recargar(t){this.ofertasCompletas=[],this.cargarOfertas(t,!0),this.habilitado=!0}toggleMenu(){this.menuCtrl.toggle()}verOfertaConductor(t){this.usuarioService.ofertaConductor=t,this.navCtrl.navigateRoot("/ver-oferta/1",{animated:!0})}favorite(){}share(){}borrar(){}validar(t,o){let e=new Date,i=new Date(t);return i.setMinutes(i.getMinutes()+120),console.log(o," : ",e.getTime()," , ",i.getTime()),e.getTime()<i.getTime()?(console.log("se va a mostrar"),!0):(console.log("No se va a mostrar"),!1)}}return t.\u0275fac=function(o){return new(o||t)(c.Kb(s.a),c.Kb(b.a),c.Kb(n.bb),c.Kb(n.Z))},t.\u0275cmp=c.Eb({type:t,selectors:[["app-ofertas-conductor"]],viewQuery:function(t,o){var e;1&t&&c.qc(l,!0),2&t&&c.gc(e=c.Wb())&&(o.refresh=e.first)},decls:16,vars:2,consts:[["color","#f77708"],["slot","start",3,"click"],["menu","primerMenu","color","#ffffff"],["slot","end",1,"imagenIco"],["src","./assets/imagenes/logo1.png"],[1,"ion-padding"],["slot","fixed","pullFactor","0.8","pullMin","60","pullMax","120",3,"ionRefresh"],["refresh",""],["fixed",""],[4,"ngIf"],["threshold","150px","position","bottom",3,"disabled","ionInfinite"],["size","12"],[4,"ngFor","ngForOf"],["lista",""],["color","medium",3,"click"],[1,"ion-text-right"]],template:function(t,o){1&t&&(c.Nb(0,"ion-header"),c.Nb(1,"ion-toolbar",0),c.Nb(2,"ion-buttons",1),c.Vb("click",(function(){return o.toggleMenu()})),c.Lb(3,"ion-menu-button",2),c.Mb(),c.Nb(4,"ion-title"),c.mc(5,"Ofertas Conductor"),c.Mb(),c.Nb(6,"ion-buttons",3),c.Lb(7,"img",4),c.Mb(),c.Mb(),c.Mb(),c.Nb(8,"ion-content",5),c.Nb(9,"ion-refresher",6,7),c.Vb("ionRefresh",(function(t){return o.recargar(t)})),c.Lb(11,"ion-refresher-content"),c.Mb(),c.Nb(12,"ion-grid",8),c.lc(13,d,3,1,"ion-row",9),c.Mb(),c.Nb(14,"ion-infinite-scroll",10),c.Vb("ionInfinite",(function(t){return o.cargarOfertas(t)})),c.Lb(15,"ion-infinite-scroll-content"),c.Mb(),c.Mb()),2&t&&(c.Ab(13),c.cc("ngIf",o.ofertasCompletas),c.Ab(1),c.cc("disabled",!o.habilitado))},directives:[n.q,n.W,n.i,n.D,n.V,n.n,n.H,n.I,n.p,i.k,n.t,n.u,n.K,n.m,i.j,n.B,n.w,n.A],styles:[""]}),t})()}];let h=(()=>{class t{}return t.\u0275mod=c.Ib({type:t}),t.\u0275inj=c.Hb({factory:function(o){return new(o||t)},imports:[[s.i.forChild(m)],s.i]}),t})(),g=(()=>{class t{}return t.\u0275mod=c.Ib({type:t}),t.\u0275inj=c.Hb({factory:function(o){return new(o||t)},imports:[[i.c,r.a,n.X,h]]}),t})()}}]);