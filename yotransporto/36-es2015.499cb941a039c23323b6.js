(window.webpackJsonp=window.webpackJsonp||[]).push([[36],{"t+IC":function(o,t,e){"use strict";e.r(t),e.d(t,"VerOfertaPageModule",(function(){return j}));var a=e("ofXK"),i=e("3Pt+"),n=e("TEn/"),r=e("tyNb"),c=e("fXoL"),b=e("mrSG"),s=e("ZJfK"),l=e("on2l"),f=e("H+l1");function d(o,t){1&o&&(c.Nb(0,"h4"),c.mc(1,"Ciudad"),c.Mb())}function u(o,t){1&o&&(c.Nb(0,"h4"),c.mc(1,"Interurbano"),c.Mb())}function M(o,t){1&o&&(c.Nb(0,"h4"),c.mc(1,"Domicilio"),c.Mb())}function h(o,t){1&o&&(c.Nb(0,"h4"),c.mc(1,"Mercancia"),c.Mb())}function N(o,t){if(1&o&&(c.Nb(0,"ion-col",14),c.Nb(1,"ion-text",2),c.Nb(2,"h3"),c.Nb(3,"ion-label",2),c.mc(4,"Fecha de salida:"),c.Mb(),c.mc(5),c.Mb(),c.Mb(),c.Mb()),2&o){const o=c.Xb(2);c.Ab(5),c.oc(" ",o.oferta.oferta.fecha_salida,"")}}function p(o,t){if(1&o&&(c.Nb(0,"ion-col",14),c.Nb(1,"ion-text",2),c.Nb(2,"h3"),c.Nb(3,"ion-label",2),c.mc(4,"Hora de salida:"),c.Mb(),c.mc(5),c.Mb(),c.Mb(),c.Mb()),2&o){const o=c.Xb(2);c.Ab(5),c.oc(" ",o.oferta.oferta.hora_salida,"")}}function m(o,t){if(1&o&&(c.Nb(0,"ion-col",14),c.Nb(1,"ion-text",2),c.Nb(2,"h3"),c.Nb(3,"ion-label",2),c.mc(4,"Capacidad de carga:"),c.Mb(),c.mc(5),c.Mb(),c.Mb(),c.Mb()),2&o){const o=c.Xb(2);c.Ab(5),c.oc(" ",o.oferta.oferta.capacidadCarga,"")}}function g(o,t){if(1&o&&(c.Nb(0,"ion-col",14),c.Nb(1,"ion-text",2),c.Nb(2,"h3"),c.Nb(3,"ion-label",2),c.mc(4,"Cupo para pasajeros:"),c.Mb(),c.mc(5),c.Mb(),c.Mb(),c.Mb()),2&o){const o=c.Xb(2);c.Ab(5),c.oc(" ",o.oferta.oferta.cantPasajeros,"")}}function v(o,t){if(1&o&&(c.Nb(0,"ion-col",14),c.Nb(1,"ion-text",2),c.Nb(2,"h3"),c.Nb(3,"ion-label",2),c.mc(4,"paqueteria:"),c.Mb(),c.mc(5),c.Mb(),c.Mb(),c.Mb()),2&o){const o=c.Xb(2);c.Ab(5),c.oc(" ",o.oferta.oferta.paqueteriaMensajeria,"")}}function A(o,t){if(1&o&&(c.Nb(0,"ion-row"),c.Nb(1,"ion-col",6),c.Nb(2,"ion-text",2),c.Nb(3,"h3"),c.mc(4,"Comentarios: "),c.Mb(),c.Mb(),c.Mb(),c.Nb(5,"ion-col",6),c.Nb(6,"ion-text"),c.Nb(7,"p"),c.mc(8),c.Mb(),c.Mb(),c.Mb(),c.Mb()),2&o){const o=c.Xb(2);c.Ab(8),c.nc(o.oferta.oferta.comentarios)}}function C(o,t){1&o&&(c.Nb(0,"ion-col",5),c.Nb(1,"ion-text",16),c.Nb(2,"h4"),c.mc(3,"Debe esperar que el due\xf1o de la oferta acepte para que se habilite el chat"),c.Mb(),c.Mb(),c.Mb())}function w(o,t){if(1&o){const o=c.Ob();c.Nb(0,"ion-grid"),c.Nb(1,"ion-row"),c.Nb(2,"ion-col",1),c.Nb(3,"ion-text"),c.Nb(4,"h3"),c.Nb(5,"ion-label",2),c.mc(6,"Conductor:"),c.Mb(),c.mc(7),c.Mb(),c.Mb(),c.Mb(),c.Mb(),c.Nb(8,"ion-row"),c.Nb(9,"ion-col",3),c.Nb(10,"ion-avatar"),c.Lb(11,"img",4),c.Mb(),c.Mb(),c.Nb(12,"ion-col",5),c.Nb(13,"ion-text"),c.Nb(14,"h3"),c.Nb(15,"ion-label",2),c.mc(16,"Origen:"),c.Mb(),c.mc(17),c.Mb(),c.Nb(18,"h3"),c.Nb(19,"ion-label",2),c.mc(20,"Destino:"),c.Mb(),c.mc(21),c.Mb(),c.Mb(),c.Mb(),c.Mb(),c.Nb(22,"ion-row"),c.Nb(23,"ion-col",6),c.Nb(24,"ion-text",2),c.Nb(25,"h3"),c.mc(26,"Tipo de servicio: "),c.Mb(),c.Mb(),c.Mb(),c.Nb(27,"ion-col",6),c.Nb(28,"ion-text"),c.lc(29,d,2,0,"h4",0),c.lc(30,u,2,0,"h4",0),c.lc(31,M,2,0,"h4",0),c.lc(32,h,2,0,"h4",0),c.Mb(),c.Mb(),c.Mb(),c.Nb(33,"ion-row"),c.lc(34,N,6,1,"ion-col",7),c.Mb(),c.Nb(35,"ion-row"),c.lc(36,p,6,1,"ion-col",7),c.Mb(),c.Nb(37,"ion-row"),c.lc(38,m,6,1,"ion-col",7),c.Mb(),c.Nb(39,"ion-row"),c.lc(40,g,6,1,"ion-col",7),c.Mb(),c.Nb(41,"ion-row"),c.lc(42,v,6,1,"ion-col",7),c.Mb(),c.lc(43,A,9,1,"ion-row",0),c.Nb(44,"ion-row"),c.Nb(45,"ion-col",3),c.Nb(46,"ion-button",8),c.Vb("click",(function(){return c.ic(o),c.Xb().chat()})),c.mc(47," chat "),c.Mb(),c.Mb(),c.lc(48,C,4,0,"ion-col",9),c.Mb(),c.Nb(49,"ion-row"),c.Nb(50,"ion-col",1),c.Nb(51,"ion-list"),c.Nb(52,"ion-radio-group",10),c.Vb("ngModelChange",(function(t){return c.ic(o),c.Xb().valor=t})),c.Nb(53,"ion-item"),c.Nb(54,"ion-label"),c.mc(55),c.Mb(),c.Lb(56,"ion-radio",11),c.Mb(),c.Nb(57,"ion-item"),c.Nb(58,"ion-label"),c.mc(59,"contraoferta: $ "),c.Mb(),c.Nb(60,"ion-radio",12),c.Vb("ngModelChange",(function(t){return c.ic(o),c.Xb().contraoferta=t})),c.Mb(),c.Nb(61,"ion-input",13),c.Vb("ngModelChange",(function(t){return c.ic(o),c.Xb().contraoferta=t})),c.Mb(),c.Mb(),c.Mb(),c.Mb(),c.Mb(),c.Mb(),c.Nb(62,"ion-row"),c.Nb(63,"ion-col",14),c.Nb(64,"ion-button",15),c.Vb("click",(function(){return c.ic(o),c.Xb().aceptar()})),c.mc(65," Aceptar "),c.Mb(),c.Mb(),c.Mb(),c.Mb()}if(2&o){const o=c.Xb();c.Ab(7),c.oc("",o.oferta.usuario.nombre," "),c.Ab(4),c.ec("src","../assets/avatars/",o.oferta.usuario.foto,"",c.jc),c.Ab(6),c.oc(" ",o.oferta.oferta.origen,""),c.Ab(4),c.oc(" ",o.oferta.oferta.destino,""),c.Ab(8),c.cc("ngIf",1==o.oferta.oferta.codTipoServicio),c.Ab(1),c.cc("ngIf",2==o.oferta.oferta.codTipoServicio),c.Ab(1),c.cc("ngIf",3==o.oferta.oferta.codTipoServicio),c.Ab(1),c.cc("ngIf",4==o.oferta.oferta.codTipoServicio),c.Ab(2),c.cc("ngIf",""!=o.oferta.oferta.fecha_salida),c.Ab(2),c.cc("ngIf",""!=o.oferta.oferta.hora_salida),c.Ab(2),c.cc("ngIf",""!=o.oferta.oferta.capacidadCarga),c.Ab(2),c.cc("ngIf",""!=o.oferta.oferta.cantPasajeros),c.Ab(2),c.cc("ngIf",""!=o.oferta.oferta.paqueteriaMensajeria),c.Ab(1),c.cc("ngIf",""!=o.oferta.oferta.comentarios),c.Ab(3),c.cc("disabled",o.habilitarChat),c.Ab(2),c.cc("ngIf",0==o.aceptada),c.Ab(4),c.cc("ngModel",o.valor),c.Ab(3),c.oc("Tarifa de la oferta: $ ",o.oferta.oferta.tarifa,""),c.Ab(1),c.dc("value",o.oferta.oferta.tarifa),c.Ab(4),c.cc("ngModel",o.contraoferta),c.Ab(1),c.cc("ngModel",o.contraoferta),c.Ab(3),c.cc("disabled",o.habilitarBoton)}}let I=(()=>{class o{constructor(o,t,e,a,i){this.usuarioService=o,this.navCtrl=t,this.modalCtrl=e,this.alertController=a,this.push=i,this.aceptada=!1,this.habilitarChat=!0,this.habilitarBoton=!1}ngOnInit(){this.oferta=this.usuarioService.ofertaConductor,this.valor=this.oferta.oferta.tarifa,"2"===this.desde&&(this.habilitarBoton=!0,this.oferta.completa.aceptada&&(this.habilitarChat=!1,this.aceptada=!0))}aceptar(){return Object(b.__awaiter)(this,void 0,void 0,(function*(){const o=yield this.alertController.create({message:"Esta seguro de aceptar esta oferta",buttons:[{text:"Cancelar",role:"cancel"},{text:"Aceptar",handler:()=>{const o={codOfertaConductor:this.oferta.oferta.idOfertaConductor,valor:String(this.valor)};this.usuarioService.aceptarOferta(o).subscribe(o=>{this.habilitarBoton=!0});const t={oferta:this.oferta.oferta,lugar:"aceptar oferta de conductor"},e=JSON.stringify({mensaje:"Un usuario a aceptado su oferta y esta a la espera de su confirmaci\xf3n",titulo:"Oferta Aceptada",idSignal:this.oferta.usuario.idSignal}),a=JSON.stringify(t);this.push.enviarNotificacion(e,a).subscribe(o=>{console.log(o)})}}]});yield o.present()}))}chat(){return Object(b.__awaiter)(this,void 0,void 0,(function*(){"2"===this.desde&&(this.idPasajeroOfertaConductor=this.oferta.completa.idPasajeroOfertaConductor);const o=yield this.modalCtrl.create({component:s.a,componentProps:{idOferta:this.idPasajeroOfertaConductor,nombre:this.oferta.usuario.nombre}});yield o.present()}))}}return o.\u0275fac=function(t){return new(t||o)(c.Kb(l.a),c.Kb(n.cb),c.Kb(n.bb),c.Kb(n.b),c.Kb(f.a))},o.\u0275cmp=c.Eb({type:o,selectors:[["app-oferta"]],inputs:{desde:"desde"},decls:1,vars:1,consts:[[4,"ngIf"],["size","12",1,"aling-center"],["color","secondary"],["size","4"],[3,"src"],["size","8"],["size","6"],["size","12",4,"ngIf"],["expand","block","shape","round",3,"disabled","click"],["size","8",4,"ngIf"],["name","auto",3,"ngModel","ngModelChange"],["slot","start",3,"value"],["slot","start",3,"ngModel","ngModelChange"],["type","text","placeholder","Digite su contraoferta",3,"ngModel","ngModelChange"],["size","12"],["expand","full","shape","round",3,"disabled","click"],[1,"color-text"]],template:function(o,t){1&o&&c.lc(0,w,66,22,"ion-grid",0),2&o&&c.cc("ngIf",t.oferta)},directives:[a.l,n.p,n.L,n.m,n.V,n.A,n.e,n.h,n.B,n.H,n.hb,i.c,i.f,n.w,n.G,n.fb,n.v,n.ib],styles:[""]}),o})();const x=[{path:"",component:(()=>{class o{constructor(o){this.activatedRoute=o}ngOnInit(){this.desde=this.activatedRoute.snapshot.paramMap.get("from")}}return o.\u0275fac=function(t){return new(t||o)(c.Kb(r.a))},o.\u0275cmp=c.Eb({type:o,selectors:[["app-ver-oferta"]],decls:8,vars:1,consts:[["slot","start"],["defaultHref","/"],[3,"desde"]],template:function(o,t){1&o&&(c.Nb(0,"ion-header"),c.Nb(1,"ion-toolbar"),c.Nb(2,"ion-buttons",0),c.Lb(3,"ion-back-button",1),c.Mb(),c.Nb(4,"ion-title"),c.mc(5,"Ver oferta"),c.Mb(),c.Mb(),c.Mb(),c.Nb(6,"ion-content"),c.Lb(7,"app-oferta",2),c.Mb()),2&o&&(c.Ab(7),c.cc("desde",t.desde))},directives:[n.q,n.X,n.i,n.f,n.g,n.W,n.n,I],styles:[".top-10[_ngcontent-%COMP%]{margin-top:10px}"]}),o})()}];let y=(()=>{class o{}return o.\u0275mod=c.Ib({type:o}),o.\u0275inj=c.Hb({factory:function(t){return new(t||o)},imports:[[r.i.forChild(x)],r.i]}),o})();var O=e("j1ZV");let j=(()=>{class o{}return o.\u0275mod=c.Ib({type:o}),o.\u0275inj=c.Hb({factory:function(t){return new(t||o)},imports:[[a.c,i.a,n.Y,O.a,y]]}),o})()}}]);